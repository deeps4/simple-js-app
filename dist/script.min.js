addEventListener("load", () => { let e = function () { let e = []; function t() { document.querySelector(".modal-dialog").classList.remove("is-visible") } window.addEventListener("keydown", e => { let n = document.querySelector(".modal-dialog"); "Escape" === e.key && n.classList.contains("is-visible") && t() }); let n = document.querySelector(".modal-dialog"); function i(e) { console.log(e), o(e).then(function () { !function e(n, i, l) { let o = document.querySelector(".modal"); document.querySelector(".close").addEventListener("click", t); document.querySelector(".modal-title").innerText = n; let r = document.querySelector(".modal-body"); r.innerHTML = ""; let a = document.createElement("p"); a.innerText = i; let c = document.createElement("img"); c.classList.add("pokemon-img"), c.src = l, r.appendChild(a), r.appendChild(c), o.classList.remove("fade") }(e.name, "Height: " + e.height, e.imgUrl) }).catch(function (e) { console.log(e) }) } function l(e) { let t = document.querySelector(".list-group"), n = document.createElement("li"); n.classList.add("list-group-item"); let l = document.createElement("button"); l.innerText = e.name, l.classList.add(["btn", "btn-primary"]), l.dataset.target = "#exampleModal", l.dataset.toggle = "modal", n.appendChild(l), t.appendChild(n), function e(t, n) { t.addEventListener("click", function () { i(n) }) }(l, e) } function o(e) { return fetch(e.detailsUrl).then(function (e) { return e.json() }).then(function (t) { e.imgUrl = t.sprites.front_default, e.height = t.height, e.types = t.types }).catch(function (e) { console.error(e) }) } return n.addEventListener("click", e => { e.target === n && t() }), { getAll: function () { return e }, add: function (t) { e.push(t) }, addListItem: l, loadList: function e() { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=80").then(function (e) { return e.json() }).then(function (e) { return e.results.forEach(function (e) { l({ name: e.name, detailsUrl: e.url }) }) }).catch(function (e) { console.error(e) }) }, loadDetails: o, showDetails: i } }(); e.loadList().then(function () { e.getAll().forEach(function (t) { e.addListItem(t) }) }) });